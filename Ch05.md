# Sequential Circuits

## 5-1 Sequential circuit definition

A **sequential circuit** consists of:

  * A combinatorial circuit
  * Storage elements
  
**State**: the binary information stored in the storage elements

Functions in sequential circuit:

Inputs + present state -> outputs + next state

Two types of sequential circuits:

  * Synchronous sequential circuit
  
    Depends on signals at discrete instants of time.
  
  * Asybchronous sequential circuits:
  
    Depends on inputs at any instants of time

Consider a buffer with gate delay t<sub>G</sub> with its output and input connected.

We assume:

* Signal only tranmit in single direction
* Signal will never fade
* In wire signal has no delay.

Then in the model, you will see signal

1. Appear in the buffer for t<sub>G</sub>
2. Appear in output then input then repeat 1.

From this, we know **storage can be constructed from logic with delay connected in a closed loop**.

But note, any such loop must also have a property possessed by a buffer, namely, **NO INVERSION** of signal around a complete loop.

A buffer is usually implemented with two inverters. This is one of the most popular methods of implementing storage in computer momeries. But there is no way for the information to be changed. But if we use a NOR or NAND, the information can be changed.

Sychronization may mean all signal change at a synchronized timing.

_Clock generator_ is a device to achieve synchronization. It produces a periodic train of _clock pulses_. This pulses are distributed throughout the system in such a way that synchronous storage elements are affected only in some specified  relationship to every pulse.

The key is: **the output of storage elements can change their value only in the presence of clock pulses. A transition from one state to the other occurs only at fixed time intervals dictated by th eclock pulses, giving synchronous operation**

Synchronous sequential circuit that uses a clock generator are called _clocked sequential circuits. 

## 5-2 Latches

### SR and SR-b Latches

See FIGURE 5-4 at P211.

Actually, it's derived from a two-inverter buffer by simply replacing the inverters with two NOR gates, but drawn in a differenct way.

**Why this works?**

Logic-1 is dominant in a OR gate, you can only change state to 1, but not 0. But in the latch two inversion exists. So you know why.

A _latch have two inputs and two outputs

* R(Reset) and S(Set)
* Q and Q-b

and two states

* Set state
* Reset state

I define a storage mode inputs: 

* The input that makes the circuit acts like buffer.

And transition mode inputs:

* The input that makes the circuit in a particular mode, whatever the original states
* When it changes to storage mode, the state should not change.

In all possible inputs of a latch (S, R), (0, 0) is storage mode, (0, 1), (1, 0) is transistion mode, (1, 1) is undefined.

Note in a transition mode, there is a delay between input, Q and Q_b.

A S_b R_b latch is NAND version of SR latch. The input is S_b, and R_b. It needs a 0 signal to change its state.

**Note: S_b is Set. 0 means set.

### SR Latch with a Control Input C

An input C is connected with S and R with two NOR gates such that

* C = 0 <-> storage mode
* C = 1 <-> transition mode (there's exception)

### D Latch

This latch has only two inputs: D(data) and C(control).

D input is connected with S and R with a 1-to-2-line decoder, such that

* D = 0 <-> (S, R) = (0, 1)
* D = 1 <-> (S, R) = (1, 0)

**Note in D Latch, C = 1 is transition mode, no exception.**

## 5-3 Flip-Flops

_Trigger_ is a change in value on the control input that allows the state of *a latch in a flip-flop* to switch.

_Transparent_ means input value can be seen from outputs at any time. A D-latch is transparent whenever the control input is 1.

Because of the feedback machanism, transparency may cause problems. The state of some latches may keep changing unpredictably.












